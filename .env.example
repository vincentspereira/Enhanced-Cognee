# Enhanced Cognee Environment Configuration
# Enterprise-grade memory stack with Enhanced features
# Replace default Cognee stack: SQLite->PostgreSQL, LanceDB->Qdrant, Kuzu->Neo4j, add Redis

# ===========================================
# ENHANCED STACK CONFIGURATION
# ===========================================

# Enhanced Mode (must be "true" for Enhanced stack)
ENHANCED_COGNEE_MODE=true

# Memory Categorization (new feature)
MEMORY_CATEGORIZATION=true
ATS_MEMORY_PREFIX=ats_
OMA_MEMORY_PREFIX=oma_
SMC_MEMORY_PREFIX=smc_

# Performance Features (new)
PERFORMANCE_MONITORING=true
AUTO_OPTIMIZATION=true
INTELLIGENT_CACHING=true

# ===========================================
# ENHANCED DATABASE CONFIGURATIONS
# ===========================================

# PostgreSQL Configuration (replaces SQLite)
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=cognee_db
POSTGRES_USER=cognee_user
POSTGRES_PASSWORD=your_postgres_password_here
POSTGRES_SSL_MODE=disable
POSTGRES_POOL_SIZE=20
POSTGRES_MAX_OVERFLOW=30

# Qdrant Vector Database (replaces LanceDB)
QDRANT_HOST=qdrant
QDRANT_PORT=6333
QDRANT_API_KEY=s5PFcla1xsO7P952frjUJhJTv55CTz
QDRANT_COLLECTION_PREFIX=cognee_
QDRANT_TIMEOUT=30
QDRANT_RETRY_COUNT=3
QDRANT_BATCH_SIZE=100

# Neo4j Graph Database (replaces Kuzu)
NEO4J_URI=bolt://neo4j:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=your_neo4j_password_here
NEO4J_DATABASE=cognee_graph
NEO4J_MAX_CONNECTION_POOL_SIZE=50
NEO4J_CONNECTION_ACQUISITION_TIMEOUT=60

# Redis Cache Layer (new component)
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_CACHE_TTL=3600
REDIS_MAX_CONNECTIONS=100
REDIS_CONNECTION_POOL_SIZE=20

# ===========================================
# LLM AND EMBEDDING CONFIGURATION
# ===========================================

# Primary LLM Configuration
LLM_API_KEY=cfd27dbaef5a4cca98530c9cfeedee30.5wsme76tr426JBkP
LLM_MODEL=glm-4.6
LLM_PROVIDER=zai
LLM_ENDPOINT=https://api.z.ai/v1
LLM_MAX_TOKENS=4000
LLM_TEMPERATURE=0.1

# Fallback LLM Options (Enhanced feature)
LLM_FALLBACK_PROVIDERS=openai,anthropic
OPENAI_API_KEY=your_openai_key_here
ANTHROPIC_API_KEY=your_anthropic_key_here

# Embedding Configuration
EMBEDDING_PROVIDER=ollama
EMBEDDING_MODEL=snowflake-arctic-embed2:568m
EMBEDDING_ENDPOINT=http://localhost:11434/api/embed
EMBEDDING_DIMENSIONS=1024
EMBEDDING_BATCH_SIZE=32
EMBEDDING_CACHE_SIZE=1000

# ===========================================
# ENHANCED FEATURES CONFIGURATION
# ===========================================

# Agent Memory Categories
AGENT_CATEGORIES=ats,oma,smc
DEFAULT_MEMORY_CATEGORY=shared

# Memory Management
MEMORY_RETENTION_DAYS=90
MEMORY_COMPRESSION_THRESHOLD=1000000
MEMORY_AUTO_CLEANUP=true

# Performance Optimization
VECTOR_SEARCH_LIMIT=1000
SIMILARITY_THRESHOLD=0.7
PARALLEL_PROCESSING=true
BATCH_SIZE=50

# Security Configuration
ENV=local
ACCEPT_LOCAL_FILE_PATH=True
ALLOW_HTTP_REQUESTS=True
ALLOW_CYPHER_QUERY=True
TOKENIZERS_PARALLELISM=false
API_KEY_HEADER=X-API-Key

# ===========================================
# MONITORING AND LOGGING
# ===========================================

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=/app/logs/enhanced-cognee.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=5

# Metrics and Monitoring
PROMETHEUS_PORT=9090
METRICS_ENABLED=true
HEALTH_CHECK_INTERVAL=30
PERFORMANCE_TRACKING=true

# OpenTelemetry Tracing
OTEL_EXPORTER_OTLP_ENDPOINT=http://jaeger:14268/api/traces
OTEL_SERVICE_NAME=enhanced-cognee
OTEL_RESOURCE_ATTRIBUTES=service.version=1.0.0

# ===========================================
# WEB DASHBOARD CONFIGURATION
# ===========================================

# Enhanced Cognee Dashboard
DASHBOARD_PORT=3000
DASHBOARD_SECRET=your_dashboard_secret_here
DASHBOARD_HOST=0.0.0.0
DASHBOARD_DEBUG=false

# Session Management
SESSION_TIMEOUT=3600
SESSION_SECRET_KEY=your_session_secret_here
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# ===========================================
# DEVELOPMENT AND TESTING
# ===========================================

# Development Settings
DEBUG=false
RELOAD=false
DEVELOPMENT_MODE=false

# Testing Configuration
TEST_DATABASE_URL=postgresql://test:test@localhost:5433/test_db
TEST_QDRANT_HOST=localhost
TEST_REDIS_DB=1
MOCK_EXTERNAL_APIS=false

# ===========================================
# SECURITY AND AUTHENTICATION
# ===========================================

# JWT Configuration
JWT_SECRET_KEY=your_jwt_secret_key_here
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# API Keys
API_KEY_HEADER=X-API-Key
MASTER_API_KEY=your_master_api_key_here
API_KEY_EXPIRY_DAYS=30

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# ===========================================
# DOCKER AND DEPLOYMENT
# ===========================================

# Docker Configuration
CONTAINER_NAME=enhanced-cognee-server
CONTAINER_RESTART_POLICY=unless-stopped
CONTAINER_MEMORY_LIMIT=4g
CONTAINER_CPU_LIMIT=2

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_START_PERIOD=5s

# ===========================================
# INTEGRATION CONFIGURATION
# ===========================================

# MCP Server Configuration
MCP_SERVER_HOST=0.0.0.0
MCP_SERVER_PORT=8080
MCP_SERVER_WORKERS=4

# Agent Integration
AGENT_TIMEOUT=30
AGENT_RETRY_COUNT=3
AGENT_BATCH_PROCESSING=true

# File System Configuration
MAX_FILE_SIZE=100MB
ALLOWED_FILE_TYPES=txt,md,pdf,docx,doc,html,json,xml,csv,tsv
UPLOAD_PATH=/app/uploads
TEMP_PATH=/app/tmp

# ===========================================
# BACKUP AND RECOVERY
# ===========================================

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=/app/backups

# Recovery Configuration
RECOVERY_MODE=auto
RECOVERY_CHECK_INTERVAL=300
RECOVERY_MAX_RETRIES=3